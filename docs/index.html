<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Введение | Визуализация и анализ географических данных на языке R</title>
<meta name="author" content="Тимофей Самсонов">
<meta name="description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Введение | Визуализация и анализ географических данных на языке R">
<meta property="og:type" content="book">
<meta property="og:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Введение | Визуализация и анализ географических данных на языке R">
<meta name="twitter:site" content="@timofeysamsonov">
<meta name="twitter:description" content="Курс лекций, посвященных использованию языка программирования R для визуализации и анализа географических данных">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.24/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="default">
<link rel="stylesheet" href="custom.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Визуализация и анализ географических данных на языке R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="active" href="index.html">Введение</a></li>
<li class="book-part">Основы языка R</li>
<li><a class="" href="basics.html"><span class="header-section-number">1</span> Типы данных</a></li>
<li><a class="" href="data-structures.html"><span class="header-section-number">2</span> Структуры данных</a></li>
<li><a class="" href="tables.html"><span class="header-section-number">3</span> Таблицы</a></li>
<li><a class="" href="controls.html"><span class="header-section-number">4</span> Функции</a></li>
<li class="book-part">Графика и статистика</li>
<li><a class="" href="graphics.html"><span class="header-section-number">5</span> Базовая графика</a></li>
<li><a class="" href="advgraphics.html"><span class="header-section-number">6</span> Продвинутая графика</a></li>
<li><a class="" href="stats.html"><span class="header-section-number">7</span> Основы статистики</a></li>
<li><a class="" href="temporal.html"><span class="header-section-number">8</span> Временные ряды</a></li>
<li class="book-part">Пространственные данные и карты</li>
<li><a class="" href="spatial.html"><span class="header-section-number">9</span> Пространственные данные</a></li>
<li><a class="" href="maps.html"><span class="header-section-number">10</span> Основы картографии</a></li>
<li><a class="" href="mapping.html"><span class="header-section-number">11</span> Тематические карты</a></li>
<li><a class="" href="three.html"><span class="header-section-number">12</span> Трехмерные модели</a></li>
<li class="book-part">Пространственный анализ</li>
<li><a class="" href="vector.html"><span class="header-section-number">13</span> Векторный анализ</a></li>
<li><a class="" href="interp.html"><span class="header-section-number">14</span> Интерполяция геополей</a></li>
<li><a class="" href="raster.html"><span class="header-section-number">15</span> Растровый анализ</a></li>
<li><a class="" href="network.html"><span class="header-section-number">16</span> Анализ сетей и траекторий</a></li>
<li class="book-part">Решение проблем</li>
<li><a class="" href="package-troubles.html"><span class="header-section-number">A</span> Установка пакетов</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/tsamsonov/r-geo-course">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><!--bookdown:title:end--><!--bookdown:title:start--><div id="введение" class="section level1 unnumbered">
<h1>Введение<a class="anchor" aria-label="anchor" href="#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5"><i class="fas fa-link"></i></a>
</h1>
<div class="rmdwarning">
<p><span style="color: orangered;"><strong>Внимание:</strong> разделы курса по пространственной статистике c октября 2021 г. переехали в новый репозиторий:</span> <a href="https://tsamsonov.github.io/r-spatstat-course" class="uri">https://tsamsonov.github.io/r-spatstat-course</a></p>
</div>
<p>Добро пожаловать в курс <em>“Визуализация и анализ географических данных на языке R”</em>! В данном курсе мы освоим азы программирования на языке <strong>R</strong>, а затем научимся использовать его для решения географических задач. Никаких предварительных знаний и навыков программирования не требуется.</p>
<div id="программное-обеспечение" class="section level2 unnumbered">
<h2>Программное обеспечение<a class="anchor" aria-label="anchor" href="#%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B5-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5"><i class="fas fa-link"></i></a>
</h2>
<p>Для успешного прохождения курса на вашем компьютере должно быть установлено следующее программное обеспечение:</p>
<ul>
<li>Язык <a href="https://cran.r-project.org">R</a>
</li>
<li>Среда разработки <a href="https://www.rstudio.com/products/rstudio/download3/">RStudio</a>
</li>
</ul>
<p>Выбирайте инсталлятор, соответствующий вашей операционной системе. Обратите внимание на то, что <strong>RStudio</strong> не будет работать, пока вы не установите базовые библиотеки языка <strong>R</strong>. Поэтому обе вышеуказанные компоненты ПО обязательны для установки.</p>
</div>
<div id="установка-и-подключение-пакетов" class="section level2 unnumbered">
<h2>Установка и подключение пакетов<a class="anchor" aria-label="anchor" href="#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><i class="fas fa-link"></i></a>
</h2>
<p>Существует <a href="https://cran.r-project.org/web/packages/">множество</a> дополнительных пакетов <strong>R</strong> практически на все случаи жизни (вы тоже можете написать свой). Как и дистрибутив <strong>R</strong>, они доступны через <a href="https://cran.r-project.org">CRAN (Comprehensive R Archive Network)</a>. Одним из таких пакетов является, например, пакет <a href="https://cran.r-project.org/web/packages/writexl/index.html"><code>writexl</code></a>, позволяющий записывать файлы в форматах <strong>Microsoft Excel</strong>.</p>
<p>Наиболее часто используются два способа установки пакетов в <strong>RStudio</strong>.</p>
<p>Во-первых, вы можете сделать это в графическом интерфесе, нажав кнопку <em>Install</em> на панели <em>Packages</em> (по умолчанию эта панель расположена в нижней правой четверти окна программы). В появившемся окне введите название пакета и нажмите <em>Install</em>:</p>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-1"></span>
<img src="images/InstallPackages.png" alt="Установка пакета" width="753"><p class="caption">
Рис. 0.1: Установка пакета
</p>
</div>
<p>Во-вторых, вы можете вызвать <em>из консоли</em> команду <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>, передав ей в качестве параметра название пакета, заключенное в кавычки:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"writexl"</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Никогда не включайте команду <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> в тело скрипта.</strong> Это приведет к тому, что каждый раз при запуске программы среда <strong>RStudio</strong> будет пытаться заново установить пакет, который уже установлен. Запускайте эту функцию <em>только из консоли</em>.</p>
</blockquote>
<p>Подключение пакета осуществляется с помощью функции <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>, при этом название пакета можно в кавычки не заключать:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/writexl/">writexl</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div id="выполнение-программного-кода" class="section level2 unnumbered">
<h2>Выполнение программного кода<a class="anchor" aria-label="anchor" href="#%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BA%D0%BE%D0%B4%D0%B0"><i class="fas fa-link"></i></a>
</h2>
<p>,
Существует несколько способов выполнения исходного кода:</p>
<ul>
<li>
<strong>Выполнить одну строку</strong>: поставить курсор в любую строку и нажать над редактором кода кнопку <em>Run</em> или сочетание клавиш <code>Ctrl</code>+<code>Enter</code> (<code>Cmd</code>+<code>Enter</code> для OS X).</li>
<li>
<strong>Выполнить несколько строк</strong>: выделить необходимые строки и нажать над редактором кода кнопку <em>Run</em> или сочетание клавиш <code>Ctrl</code>+<code>Enter</code> (<code>Cmd</code>+<code>Enter</code> для OS X).</li>
<li>
<strong>Выполнить весь код</strong> можно сразу тремя способами:
<ul>
<li>Выделить весь текст и нажать над редактором кода кнопку <em>Run</em> или сочетание клавиш <code>Ctrl+Enter</code> (<code>Cmd</code>+<code>Enter</code> для OS X)</li>
<li>Нажать клавиатурное сочетание <code>Ctrl</code>+<code>Alt</code>+<code>Enter</code> (<code>Cmd</code>+<code>Alt</code>+<code>Enter</code> для OS X)</li>
<li>Нажать в правом верхнем углу редактора кода кнопку <em>Source</em>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Команды <em>Source</em> и <code>Ctrl</code>+<code>Alt</code>+<code>Enter</code> могут не сработать</strong>, если у вас не установлена рабочая директория, или если в пути к рабочей директории содержатся кириллические символы (не актуально для Windows 10+, macOS и Linux, которые являются системами, основанными на кодировке Unicode).</p>
</blockquote>
<p>Существует также ряд дополнительных опций выполнения кода, которые вы можете найти в меню <em>Code &gt; Run Region</em>.</p>
<blockquote>
<p><strong>Выполняя код построчно, делайте это последовательно, начиная с первой строки программы.</strong> Одна из самых распространенных ошибок новичков заключается в попытке выполнить некую строку, не выполнив <em>предыдущий код</em>. Нет никаких гарантий, что что-то получится, если открыть файл, поставить курсор в произвольную строку посередине программы и попытаться выполнить ее. Возможно, вам и повезет — если эта строка никак не зависит от предыдущего кода. Однако в реальных программах такие строки составляют лишь небольшую долю от общего объема. Как правило, в них происходит инициализация новых переменных стартовыми значениями.</p>
</blockquote>
</div>
<div id="установка-рабочей-директории" class="section level2 unnumbered">
<h2>Установка рабочей директории<a class="anchor" aria-label="anchor" href="#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B9-%D0%B4%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B8"><i class="fas fa-link"></i></a>
</h2>
<p>Вы можете открывать и сохранять любые поддерживаемые файлы в <strong>R</strong>, указывая полный системный путь к файлу. Например, так может выглядеть открытие и сохранение таблицы в формате <em>CSV</em> на компьютере <em>Mac</em>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"/Volumes/Data/GitHub/r-geo-course/data/oxr_vod.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"/Volumes/Data/GitHub/r-geo-course/data/oxr_vod_copy.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Однако, если вам требуется открыть или сохранить несколько файлов (и не только данных, но и графиков, карт и т.п.), программа будет выглядеть громоздко. К тому же, прописывать каждый раз полный путь достаточно утомительно и неприятно (даже путем копирования и вставки), а главное — может привести к ошибкам.</p>
<p>Чтобы облегчить работу с файлами, в <strong>R</strong> существует понятие домашней директории. Домашняя директория задается для текущей сессии <strong>R</strong> с помощью функции <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>. После установки домашней директории <strong>R</strong> будет полагать, что все открываемые и сохраняемые файлы должны находиться в ней:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"/Volumes/Data/GitHub/r-geo-course/data"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"oxr_vod.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"oxr_vod_copy.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Как видно, мы добавили дополнительную строчку кода, но сэкономили на длине двух других строк. При увеличении количества обращений к файлам польза домашней директории будет возрастать. При этом вы можете открывать и сохранять файлы в поддиректориях, наддиректориях и соседних директориях, используя синтаксис, стандартный для большинства операционных систем:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># сохранить файл в поддиректорию data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"data/oxr_vod_copy.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># сохранить файл в наддиректорию по отношению к текущей директории</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"../oxr_vod_copy.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># сохранить файл в директорию data, соседнюю по отношению к текущей директории</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"../data/oxr_vod_copy.csv"</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Если вы перенесли код и данные с другого компьютера</strong> (возможно, вы получили их от своего коллеги или скачали с репозитория данного пособия), необходимо заменить путь, указанный в функции <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> на путь к каталогу, в который вы положили данные.</p>
</blockquote>
<blockquote>
<p><strong>Рабочая директория и местоположение скрипта могут не совпадать</strong>. Вы можете хранить их в разных местах. Однако рекомендуется держать их вместе, что облегчит передачу вашей программы вместе с данными другим пользователям.</p>
</blockquote>
<p>К сожалению, не существует надежного программного способа сказать среде выполнения <strong>R</strong>, что в качестве домашей директории следует использовать директорию в которой лежит сам скрипт (что, вообще говоря, было бы крайне удобно). Возможно, в будущем разработчики языка добавят такую полезную функцию. Однако, если для работы с <strong>R</strong> вы пользуетесь средой <strong>RStudio</strong>, задача может быть решена путем использования проектов. Подробнее читайте <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">здесь</a>.</p>
</div>
<div id="диагностические-функции" class="section level2 unnumbered">
<h2>Диагностические функции<a class="anchor" aria-label="anchor" href="#%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8"><i class="fas fa-link"></i></a>
</h2>
<p>В <strong>R</strong> существует ряд диагностических функций, которые позволяют узнавать техническую информацию об объектах и переменных. Эти функции полезны, когда необходимо понять, какого типа, размера и содержания данные хранятся в той или иной переменной. Нижеприведенный список функций не являются исчерпывающим, но охватывает часто употребляемые функции:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Функция</th>
<th>Назначение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/class.html">class()</a></code></td>
<td>Класс (тип данных или структура данных) объекта</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/attr.html">attr()</a></code></td>
<td>Атрибуты объекта</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/utils/str.html">str()</a></code></td>
<td>Компактное представление внутренней структуры объекта.</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/names.html">names()</a></code></td>
<td>Названия элементов объекта</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code></td>
<td>Названия колонок фрейма данных или матрицы</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code></td>
<td>Названия строк фрейма данных или матрицы</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/mode.html">mode()</a></code></td>
<td>Режим хранения объекта.</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/length.html">length()</a></code></td>
<td>Размер (длина) объекта.</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code></td>
<td>Измерение объекта.</td>
</tr>
</tbody>
</table></div>
<p>Помимо этого, часто используются следующие функции, имеющие отношение не к конкретным объектам, а к параметрам работы текущей сессии:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="42%">
<col width="57%">
</colgroup>
<thead><tr class="header">
<th>Функция</th>
<th>Назначение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo()</a></code></td>
<td>Информация о текущей сессии R и подключенных пакетах.</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/gc.html">gc()</a></code></td>
<td>Информация об объеме памяти, занимаемой текущей сессией R (находящейся под управлением <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B1%D0%BE%D1%80%D0%BA%D0%B0_%D0%BC%D1%83%D1%81%D0%BE%D1%80%D0%B0">сборщика мусора</a>).</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/options.html">options()</a></code></td>
<td>Получение и установка параметров среды.</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code></td>
<td>Получение текущей рабочей директории</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code></td>
<td>Установка текущей рабочей директории</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/graphics/par.html">par()</a></code></td>
<td>Получение и установка графических параметров</td>
</tr>
</tbody>
</table></div>
</div>
<div id="получение-справки" class="section level2 unnumbered">
<h2>Получение справки<a class="anchor" aria-label="anchor" href="#%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B8"><i class="fas fa-link"></i></a>
</h2>
<p>Правильно оформленная функция <strong>R</strong> содержит документированное описание ее параметров и правил использования. Справку можно получить несколькими способами:</p>
<ul>
<li>Найти интересующую вас функцию вручную на вкладке <strong>Packages</strong>, выбрав нужный пакет.</li>
<li>Воспользоваться строкой поиска на вкладке <strong>Help</strong>.</li>
<li>Ввести знак вопроса и название функции в консоли (будет искать только среди подключенных в настоящий момент пакетов):</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/writexl/">writexl</a></span><span class="op">)</span></span>
<span></span>
<span><span class="op">?</span><span class="va">write_xlsx</span> <span class="co"># равносильно вызову функции help(write_xlsx)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-8"></span>
<img src="images/write_xlsx.png" alt="Справка по функции `write_xlsx`" width="785"><p class="caption">
Рис. 0.2: Справка по функции <code>write_xlsx</code>
</p>
</div>
<ul>
<li>Ввести двойной знак вопроса и название функции в консоли (будет искать по всем установленным пакетам, независимо от того, подключены ли они в настоящий момент). Например, вот так можно найти все варианты справочных материалов по функции <code>aggregate</code>:</li>
</ul>
<pre><code>&gt; ??aggregate</code></pre>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-9"></span>
<img src="images/ch0_aggregate.png" alt="Справочные материалы по функциям `aggregate` из установленных пакетов" width="780"><p class="caption">
Рис. 0.3: Справочные материалы по функциям <code>aggregate</code> из установленных пакетов
</p>
</div>
<p>Во многих пакетах есть также подробная документация с примерами использования функций в виде руководств и так называемых <a href="https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D0%BD%D1%8C%D0%B5%D1%82%D0%BA%D0%B0_(%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D1%83%D1%80%D0%B0)"><em>виньеток</em></a> (<em>vignettes</em>), которые представляют из себя расширенные руководства (статьи) по использованию пакета. С документацией пакета можно ознакомиться, щелкнув на его названии на вкладке <em>Packages</em> и перейдя по ссылке <em>User guides, package vignettes and other documentation</em>:</p>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="images/ch0_vignette.png" alt="Документация пакета `sf`" width="696"><p class="caption">
Рис. 0.4: Документация пакета <code>sf</code>
</p>
</div>
</div>
<div id="комментарии" class="section level2 unnumbered">
<h2>Комментарии<a class="anchor" aria-label="anchor" href="#%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Комментарии</strong> — это фрагменты текста программы, начинающиеся с символа <code>#</code>. Комментарии не воспринимаются как исполняемый код и служат для документирования программы. При выполнении программы содержимое комментария в зависимости от настроек среды может выводиться или не выводиться в консоль, однако их содержание никак не влияет на результаты выполнения программы.</p>
<blockquote>
<p><strong>Всегда пишите комментарии</strong>, чтобы по прошествии времени можно было открыть файл и быстро восстановить в памяти логику программы и смысл отдельных операций. Комментарии особенно необходимы, если вашей программой будет пользоваться кто-то другой — без них будет трудно разобраться в программном коде.</p>
</blockquote>
<p>Действие комментария продолжается от символа <code>#</code> до конца строки. Соответственно, вы можете поставить данный символ в самом начале строки и тогда комментарий будет занимать всю строку. Комментарий также можно расположить справа от исполняемого кода, и тогда он будет занимать только часть строки.</p>
<blockquote>
<p><strong>Прервать комментарий и написать справа от него исполняемый код нельзя</strong></p>
</blockquote>
<p>Полнострочные комментарии часто используются для выделения разделов в программе и написания объемных пояснений. Часто в них вводят имитации разделительных линий с помощью символов дефиса (<code>-</code>) или подчеркивания (<code>_</code>), а заголовки набирают прописными буквами. Короткие комментарии справа от фрагментов кода обычно служат пояснением конкретных простых операций. Подобная логика употребления комментариев не является обязательной. Вы можете оформлять их на свое усмотрение. Главное, чтобы они выполняли свою основную функцию — пояснять смысл выполняемых действий. Например:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ОПЕРАЦИИ С ЧИСЛАМИ</span></span>
<span><span class="co"># ---------------------------</span></span>
<span><span class="co"># В данном разделе рассматриваются арифметические операции, такие как сложение, вычитание, деление, деление с остатком, взятие остатка и возведение в степень:</span></span>
<span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fl">3</span> <span class="op">+</span> <span class="fl">2</span> <span class="co"># Сложение</span></span>
<span><span class="va">b</span> <span class="op">=</span> <span class="fl">4</span> <span class="op">^</span> <span class="fl">8</span> <span class="co"># Возведение в степень</span></span>
<span><span class="va">c</span> <span class="op">=</span> <span class="va">b</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="va">a</span> <span class="co"># Взятие остатка</span></span>
<span></span>
<span><span class="co"># Деление</span></span>
<span><span class="va">d</span> <span class="op">=</span> <span class="va">c</span> <span class="op">/</span> <span class="va">a</span> </span>
<span></span>
<span><span class="co"># Умножение</span></span>
<span><span class="va">e</span> <span class="op">=</span> <span class="va">d</span> <span class="op">*</span> <span class="va">b</span></span></code></pre></div>
<p>Однако, усердствовать с комментированием каждой мелочи в программе, разумеется, не стоит. Со временем у вас выработается взвешенный подход к документированию программ и понимание того, какие ее фрагменты требуют пояснения, а какие самоочевидны.</p>
<blockquote>
<p><strong>Для быстрой вставки комментария, обозначающего новый раздел программы</strong>, воспользуйтесь командой меню <em>Code &gt; Insert Section</em> или клавиатурным сочетанием <code>Ctrl</code>+<code>Shift</code>+<code>R</code> (<code>Cmd</code>+<code>Shift</code>+<code>R</code> для OS X)</p>
</blockquote>
</div>
<div id="стандарт-оформления-кода-на-r" class="section level2 unnumbered">
<h2>Стандарт оформления кода на R<a class="anchor" aria-label="anchor" href="#%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82-%D0%BE%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BA%D0%BE%D0%B4%D0%B0-%D0%BD%D0%B0-r"><i class="fas fa-link"></i></a>
</h2>
<p>Очень важно сразу же приучить себя грамотно, структурированно и красиво оформлять код на языке <strong>R</strong>. Это существенно облегчит чтение и понимание ваших программ не только вами, но и другими пользователями и разработчиками. Помимо вышеуказанных рекомендаций по написанию комментариев существует также определенное количество хорошо зарекомендовавших себя и широко используемых практик оформления кода. Эти практики есть в каждом языке программирования и их можно найти в литературе (и в Интернете) в виде негласных сводов правил (<em>style guides</em>).</p>
<p>В частности, одним из полезных для изучения является стандарт <a href="https://style.tidyverse.org/"><strong>tidyverse</strong></a>, систематизированный <a href="http://hadley.nz/">Хэдли Уикхемом</a> — одним из ведущих идеологов развития языка R и его библиотек.</p>
<blockquote>
<p><strong>Стандарт оформления кода иногда также называют <em>стилем программирования</em>.</strong> Однако под стилем программирования традиционно понимают все же фундаментальный подход (<em>парадигму</em>) к построению программ: процедурный, функциональный, логический, объектно-ориентированный стиль и некоторые <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">другие</a>.</p>
</blockquote>
<p>К числу негласных правил оформления кода на <strong>R</strong> можно отнести следующие:</p>
<ol style="list-style-type: decimal">
<li>Последовательно используйте знак присвоения <code>&lt;-</code> или <code>=</code> на протяжении всей программы. Если вы начали использовать <code>=</code> – применяйте его на протяжении всей программы, не используя <code>&lt;-</code>.</li>
</ol>
<blockquote>
<p><strong>Традиционный подход предполагает использование <code>&lt;-</code></strong>, однако все больше программистов использует знак <code>=</code> в своих программах, что делает <strong>R</strong> более похожим на другие языки программирования. Помните, что использование <code>=</code> официально не рекомендуется, поскольку существует много старого кода на R, который может ошибочно выполняться в сочетании с кодом, использующим <code>=</code>. Но вы, скорее всего, с такими проблемами не столкнетесь. Так что выбор за вами!</p>
</blockquote>
<ol start="2" style="list-style-type: decimal">
<li>После запятой всегда ставьте пробел, перед запятой – нет:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Правильно:</span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">a</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Неправильно:</span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span> ,<span class="fl">2</span> ,<span class="fl">3</span> ,<span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span> , <span class="fl">2</span> , <span class="fl">3</span> , <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">a</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">a</span> ,<span class="fl">2</span> ,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">a</span> , <span class="fl">2</span> , <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Отделяйте любые бинарные операторы (такие как <code>=, +, -, &lt;-, *</code>) пробелами с двух сторон:</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">b</span> <span class="op">+</span> <span class="va">pi</span> <span class="op">*</span> <span class="fl">0.5</span><span class="op">)</span> <span class="co"># правильно</span></span>
<span><span class="va">a</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">b</span><span class="op">+</span><span class="va">pi</span><span class="op">*</span><span class="fl">0.5</span><span class="op">)</span> <span class="co"># неправильно</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Между названием функции и открывающей скобкой пробела быть не должно. То же самое касается обращения к элементам вектора, матрицы и т.п.:</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Правильно:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="va">a</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Неправильно:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span> <span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>В то же время, при вызове команд управления выполнением программы (условные операторы и циклы) перед и после скобок пробел <strong>должен</strong> стоять:</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Правильно:</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">a</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">i</span> <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="va">i</span> <span class="op">&lt;</span> <span class="va">a</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="va">i</span> <span class="op">=</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Неправильно:</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="va">a</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">i</span> <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="kw">while</span><span class="op">(</span><span class="va">i</span> <span class="op">&lt;</span> <span class="va">a</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="va">i</span> <span class="op">=</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div id="зарезервированные-слова" class="section level2 unnumbered">
<h2>Зарезервированные слова<a class="anchor" aria-label="anchor" href="#%D0%B7%D0%B0%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0"><i class="fas fa-link"></i></a>
</h2>
<p>В <strong>R</strong> существует небольшое количество зарезервированных слов, которые нельзя использовать в качестве имен переменных, функций и проч. Список этих слов можно получить, набрав в консоли <code><a href="https://rdrr.io/r/base/Reserved.html">?Reserved</a></code>. К ним относятся:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="59%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th>Слово</th>
<th>Назначение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>if</code></td>
<td>Условный оператор ЕСЛИ</td>
</tr>
<tr class="even">
<td><code>else</code></td>
<td>Условный оператор ИНАЧЕ</td>
</tr>
<tr class="odd">
<td><code>repeat</code></td>
<td>Цикл без внешнего условия</td>
</tr>
<tr class="even">
<td><code>while</code></td>
<td>Цикл “пока верно условие, повторять”</td>
</tr>
<tr class="odd">
<td><code>function</code></td>
<td>Функция</td>
</tr>
<tr class="even">
<td><code>for</code></td>
<td>Цикл “пройти по элементам последовательности”</td>
</tr>
<tr class="odd">
<td><code>in</code></td>
<td>Оператор вхождения в множество</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/Control.html">next</a></code></td>
<td>Переход на новую итерацию цикла</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/Control.html">break</a></code></td>
<td>Принудительный выход из цикла или условного оператора</td>
</tr>
<tr class="even">
<td><code>TRUE</code></td>
<td>Логическое значение ИСТИНА</td>
</tr>
<tr class="odd">
<td><code>FALSE</code></td>
<td>Логическое значение ЛОЖЬ</td>
</tr>
<tr class="even">
<td><code>NULL</code></td>
<td>Пустое значение</td>
</tr>
<tr class="odd">
<td><code>Inf</code></td>
<td>Бесконечность</td>
</tr>
<tr class="even">
<td><code>NaN</code></td>
<td>Нечисловое значние</td>
</tr>
<tr class="odd">
<td><code>NA</code></td>
<td>Отсутствующее значение</td>
</tr>
<tr class="even">
<td><code>NA_integer_</code></td>
<td>Отсутствующее целое число</td>
</tr>
<tr class="odd">
<td><code>NA_real_</code></td>
<td>Отсутствующее число с плавающей точкой</td>
</tr>
<tr class="even">
<td><code>NA_complex_</code></td>
<td>Отсутствующее комплексное число</td>
</tr>
<tr class="odd">
<td><code>NA_character_</code></td>
<td>Отсутствующая строка</td>
</tr>
</tbody>
</table></div>
</div>
<div id="названия-переменных" class="section level2 unnumbered">
<h2>Названия переменных<a class="anchor" aria-label="anchor" href="#%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85"><i class="fas fa-link"></i></a>
</h2>
<p>В качестве названий переменных <strong>нельзя использовать заразервированные слова</strong>, а также не рекомендуется использовать названия общеупотребительных (диагностических) функций и констант. Также не следует давать переменным названия, совпадающие с широко распространенными функциями – например, котороткими функциями из пакета <code>base</code>, такими как <code><a href="https://rdrr.io/r/base/t.html">t()</a></code>, <code>с()</code> и т.д., так как это может привести к путанице в программе и даже ошибкам выполнения кода. Каждый раз, создавая переменную, спрашивайте себя, не совпадает ли ее название с названием одной из используемых вами функций.</p>
</div>
<div id="названия-специальных-символов" class="section level2 unnumbered">
<h2>Названия специальных символов<a class="anchor" aria-label="anchor" href="#%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81%D0%BF%D0%B5%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2"><i class="fas fa-link"></i></a>
</h2>
<p>В <strong>R</strong>, как и во многих других языках программирования используются различные специальные символы. Их смысл и значение мы узнаем по ходу изучения языка, а пока что ознакомьтесь с ними, чтобы понимать как их произносить, когда они будут встречаться в программе.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Символ</th>
<th>Название</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>$</code></td>
<td>доллар</td>
</tr>
<tr class="even">
<td><code>#</code></td>
<td>шарп (решетка)</td>
</tr>
<tr class="odd">
<td><code>&amp;</code></td>
<td>амперсанд (и)</td>
</tr>
<tr class="even">
<td><code>/</code></td>
<td>слеш (косая черта)</td>
</tr>
<tr class="odd">
<td><code>\</code></td>
<td>обратный слеш (обратная косая черта)</td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>пайп (вертикальная черта)</td>
</tr>
<tr class="odd">
<td><code>^</code></td>
<td>циркумфлекс (крышечка)</td>
</tr>
<tr class="even">
<td><code>@</code></td>
<td>эт (собачка)</td>
</tr>
<tr class="odd">
<td><code>~</code></td>
<td>тильда</td>
</tr>
<tr class="even">
<td><code>''</code></td>
<td>одинарные кавычки</td>
</tr>
<tr class="odd">
<td><code>""</code></td>
<td>двойные кавычки</td>
</tr>
<tr class="even">
<td><code>``</code></td>
<td>обратные кавычки</td>
</tr>
</tbody>
</table></div>
</div>
<div id="управляющие-последовательности" class="section level2 unnumbered">
<h2>Управляющие последовательности<a class="anchor" aria-label="anchor" href="#%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8"><i class="fas fa-link"></i></a>
</h2>
<p>При работе со строками вам может понадобиться знание так называемых <a href="https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B0%D1%8F_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C"><em>управляющих последовательностей</em></a> (<em>escape</em>-последовательностей). Под этим понимается совокупность подряд идущих символов, которая интерпретируется обрабатывающим механизмом как единое целое. Как правило, такие последовательности начинаются с хорошо узнаваемого символа, не являющегося буквенно-цифровым (см. предыдущий раздел)</p>
<p>В частности, последовательности, начинающиеся с символа обратной косой черты (<code>\</code>) используются для <a href="https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D1%8B">управления выводом</a> программы. Например, последовательность <code>\n</code> приводит к переносу строки в том месте, где она расположена, а последовательность <code>\t</code> позволит вставить символ табуляции. То есть, фраза <code>"Визуализация и анализ\nгеографических данных на языке R"</code> будет выведена в две строки с переносом после слова <code>"анализ"</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Визуализация и анализ\nгеографических данных на языке R"</span><span class="op">)</span></span>
<span><span class="co">## Визуализация и анализ</span></span>
<span><span class="co">## географических данных на языке R</span></span></code></pre></div>
<p>Такая возможность бывает полезна, когда вы хотите, например, вывести длинный заголовок графика в несколько строк, а система построения графиков не умеет расставлять переносы автоматически. Управляющие символы позволяют менять не только текстовый вывод. В частности, символ <code>\a</code>, будучи отправленным в консоль, приведет в извлечению звука.</p>
<p>При этом вы можете столкнуться с ситуацией, когда необходимо подавить возможность управления выводом через символы в строке. Например, если последовательность символов является частью более длинной последовательности. Классический сюжет — пути к папкам в операционной системе <em>Windows</em>, наподобие <code>d:\aikido\training</code>. Вы хотите вывести на экран путь к каталогу с результатами ваших тренировок по айкидо, а вместо этого программа издаёт звук и вставляет посередине пути символ табуляции:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"d:\aikido\training"</span><span class="op">)</span></span>
<span><span class="co">## d:ikido raining</span></span></code></pre></div>
<p>Чтобы исключить подобное безобразие, следует нежелательные последовательности <em>экранировать</em>. Экранирование обычно делается тем же специальным символом, с которого начинается сама управляющая последовательность. То есть, вы должны принудительно вставить еще один такой же символ:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"d:\\aikido\\training"</span><span class="op">)</span></span>
<span><span class="co">## d:\aikido\training</span></span></code></pre></div>
<p>Однако в данном конкретном случае проще заменить обратные слеши на прямые — Windows может работать с путями и таким образом:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"d:/aikido/training"</span><span class="op">)</span></span>
<span><span class="co">## d:/aikido/training</span></span></code></pre></div>
<blockquote>
<p>В UNIX-подобных операционных системах (Linux, macOS) такой проблемы нет, поскольку для формирования пути к каталогу можно использовать <em>только</em> прямую косую черту (<code>/</code>). С учетом того, что Windows <em>допускает</em> и такой способ задания путей, в данном контексте рекомендуется всегде использовать прямые, а не обратные косые черты.</p>
</blockquote>
<p>Дополнительные сведения по управляющим последовательностям в R можно почерпнуть, если набрать в консоли <code><a href="https://rdrr.io/r/base/Quotes.html">?Quotes</a></code>:</p>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-21"></span>
<img src="images/quotes.png" alt="Справка по управляющим последовательностям в R" width="797"><p class="caption">
Рис. 0.5: Справка по управляющим последовательностям в R
</p>
</div>
</div>
<div id="ссылка-на-пособие" class="section level2 unnumbered">
<h2>Ссылка на пособие<a class="anchor" aria-label="anchor" href="#%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0-%D0%BD%D0%B0-%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%B8%D0%B5"><i class="fas fa-link"></i></a>
</h2>
<p>Если этот курс лекций оказался полезным для вас, и вы хотите процитировать его с списке литературы вашей работы, то ссылку можно оформить по следующей форме:</p>
<div class="inline-table"><table class="table table-sm"><tbody><tr class="odd">
<td>
<em>Самсонов Т.Е.</em> <strong>Визуализация и анализ географических данных на языке R.</strong> М.: Географический факультет МГУ, 2022. DOI: <a href="https://doi.org/10.5281/zenodo.901911">10.5281/zenodo.901911</a>
</td>
</tr></tbody></table></div>
</div>
</div>



  <div class="chapter-nav">
<div class="empty"></div>
<div class="next"><a href="basics.html"><span class="header-section-number">1</span> Типы данных</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5">Введение</a></li>
<li><a class="nav-link" href="#%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B5-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5">Программное обеспечение</a></li>
<li><a class="nav-link" href="#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2">Установка и подключение пакетов</a></li>
<li><a class="nav-link" href="#%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BA%D0%BE%D0%B4%D0%B0">Выполнение программного кода</a></li>
<li><a class="nav-link" href="#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B9-%D0%B4%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B8">Установка рабочей директории</a></li>
<li><a class="nav-link" href="#%D0%B4%D0%B8%D0%B0%D0%B3%D0%BD%D0%BE%D1%81%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8">Диагностические функции</a></li>
<li><a class="nav-link" href="#%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B8">Получение справки</a></li>
<li><a class="nav-link" href="#%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8">Комментарии</a></li>
<li><a class="nav-link" href="#%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82-%D0%BE%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BA%D0%BE%D0%B4%D0%B0-%D0%BD%D0%B0-r">Стандарт оформления кода на R</a></li>
<li><a class="nav-link" href="#%D0%B7%D0%B0%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0">Зарезервированные слова</a></li>
<li><a class="nav-link" href="#%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85">Названия переменных</a></li>
<li><a class="nav-link" href="#%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81%D0%BF%D0%B5%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2">Названия специальных символов</a></li>
<li><a class="nav-link" href="#%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8">Управляющие последовательности</a></li>
<li><a class="nav-link" href="#%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0-%D0%BD%D0%B0-%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%B8%D0%B5">Ссылка на пособие</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/tsamsonov/r-geo-course/blob/master/index.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/tsamsonov/r-geo-course/edit/master/index.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Визуализация и анализ географических данных на языке R</strong>" was written by Тимофей Самсонов. It was last built on 2022-10-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
